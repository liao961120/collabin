---
title: "The Speech of Fiction"
subtitle: "Ｗ2 microblog"
author: "Jessica"
mysite: /jessica/
date: "2019-03-14"
tags: ['LOPE']
comment: true
isRmd: true
---

<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<p>上週提到了我是一個非常喜歡逛書店、看書的人。上次的blog（從數字看新書）主要是著重在書的「外在環境」：台灣的出版業及不同年齡讀者的喜好上。這週我想要回歸到書本的「內在」，即是書裡面的文字部分。
如果問大多數人，書本、小說裡面的文字是屬於書面語還是口語呢？大多數人應該都會覺得：你在說什麼廢話！？當然是「書」面語啊～它都叫「書」了！那如果是問書裡面角色的對白呢？這時候你可能就有點遲疑了，書中人物講話「很像」我們平時講話，但卻又沒那麼像。若將我們平時講的話都錄下來，應該會像下面這樣充滿斷句、打岔、贅句、未完句：</p>
<blockquote>
<p>秘書：「還是……我等一下再……」<br />
主管：「要問一下，問一下啦。」<br />
秘書：「恩恩…好…好」</p>
</blockquote>
<p>真實對話，大部份是無聊的碎渣。但你有看過小說裡面的人這樣講話的嗎？小說裡的人，講話好像都比我們再「有水準」一點，像下面這樣：</p>
<blockquote>
<p>傑西：「嗨，比爾，我其實是迷路了，剛才有人搶了我的皮包，你看，我的鼻子。」<br />
比爾：「天哪，傑西，你的鼻子大而紅腫，流了一些鼻血，發生什麼事了？」</p>
</blockquote>
<p>例子取自 <a href="http://rosenovel.pixnet.net/blog/post/14293582">《變身暢銷小說家：倪采青談小說寫作技巧》</a></p>
<p>這時候你又會覺得：哪個正常人平常會這樣講話啦～因為其實很少人在見面講話時，會頻頻稱對方的名字，也應該很少人在被搶之後，還會冷靜地用語言，不加任何狀聲詞和手勢，來描述那個事件。</p>
<div id="啊講了那麼多所以" class="section level2">
<h2>啊講了那麼多，所以……</h2>
<p>總之，我就是對小說裡面的對話很感興趣，像是小說裡的對話大都是怎樣呈現、不同類型的小說是否會有不同的對話表現，這些都是在這篇blog裡面會談到的。</p>
</div>
<div id="人物要講話前都會出現什麼" class="section level2">
<h2>人物要講話前，都會出現什麼……?</h2>
首先，我從<a href="www.mirrorfiction.com">鏡文學</a>網站上，爬了點擊總排行榜上的前三名，又根據不同類型（都會、歷史、愛情），抓了各類型的第一、二名的小說。然後利用<a href="https://pulipulichen.github.io/HTML5-Text-Analyzer/">文本分析器</a>，找出在“「」”前最常出現的句子，並計算它們的句子長度（幾個字），結果如下：
<div class="figure"><span id="fig:pressure1"></span>
<img src="Before%20dialogue%20length.png" alt="對話前句子長度" width="100%" />
<p class="caption">
Figure 1: 對話前句子長度
</p>
</div>
<p>圖表顯示，不管是哪一種類型的小說，對話前的句子都不長，集中在6~12個字中間。但是，<em>Ghost Mansion鬼魅豪宅</em>(總點擊排行榜第一名）的作者特別愛用長句來表現對話前的句子，比跟它同是都會小說（chic)的其他作品還要來得高。這表示這位作者特別喜歡在讓角色說話前給予很多描述，比如說：操著孟加拉腔調的司機長篇大論地繼續發表著、小范立刻脫掉西裝強迫自己露出笑容……。
接下來我們來看看這些「對話前」的句子都長什麼樣吧！</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">tagger1 =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&#39;top3_dialogue_tagger.rds&#39;</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">knitr<span class="op">::</span><span class="kw">kable</span>(tagger1, <span class="dt">caption =</span> <span class="st">&quot;top3_詞性標註&quot;</span>)</a></code></pre></div>
<table>
<caption><span id="tab:table1">Table 1: </span>top3_詞性標註</caption>
<thead>
<tr class="header">
<th align="left">top1</th>
<th align="left">top2</th>
<th align="left">top3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">笑(VA) 著(Di) 說(VE) </td>
<td align="left">說(VE)</td>
<td align="left">溫聲(Na) 說道(VE) </td>
</tr>
<tr class="even">
<td align="left">葉國強(Nb) 搖(VAC) 了(Di) 搖頭(VA) 說(VE)</td>
<td align="left">又(D) 說(VE)</td>
<td align="left">輕聲(D) 說(VE) </td>
</tr>
<tr class="odd">
<td align="left">小(VH) 范(Nb) 立刻(D) 脫掉(VC) 西裝(Na) 強迫(VF) 自己(Nh) 露出(VC) 笑容(Na)</td>
<td align="left">曾國藩(Nb) 說(VE)</td>
<td align="left">奇怪(VK) 的(DE) 問(VE) </td>
</tr>
<tr class="even">
<td align="left">葉國強(Nb) 打斷(VC) 她(Nh) 的(DE) 話(Na)</td>
<td align="left">笑(VA) 說(VE)</td>
<td align="left">小聲(Nb) 說(VE)</td>
</tr>
<tr class="odd">
<td align="left">操(VC) 著(Di) 孟加拉(Nb) 腔調(Na) 的(DE) 司機(Na) 長篇大論(Na) 地(DE) 繼續(VF) 發表(VC) 著(Di)</td>
<td align="left">他(Nh) 說(VE) </td>
<td align="left">低聲(D) 問道(VE) </td>
</tr>
<tr class="even">
<td align="left">矗立(VH) 著(Di) 又(D) 大(VH) 又(Caa) 明顯(VH) 且(Caa) 看起來(D) 還(D) 很(Dfa) 新(VH) 的(DE) 告示牌(Na)</td>
<td align="left">趙(Nb) 剛(D) 說(VE)</td>
<td align="left"> 顏妤婷(Nb) 笑笑(VA) 說(VE) </td>
</tr>
<tr class="odd">
<td align="left">房間(Nc) 深處(Nc) 傳來(VC) 一(Neu) 陣(Nf) 空洞(VH) 的(DE) 呻吟聲(Na) </td>
<td align="left">道(Na)</td>
<td align="left">顏妤婷(Nb) 微紅著臉(VH) 說(VE)</td>
</tr>
<tr class="even">
<td align="left">還(D) 大聲(VH) 地(DE) 一(Neu) 個(Nf) 字(Na) 一(Neu) 個(Nf) 字(Na) 喊出來(VE)</td>
<td align="left">胡爺(Nb) 說(VE)</td>
<td align="left">說道(VE) </td>
</tr>
<tr class="odd">
<td align="left">我(Nh) 探(VC) 著(Di) 頭(Na) 對(P) 著(Di) 屋(Na) 內(Ncd) 喊(VE)</td>
<td align="left">方(D) 說(VE)</td>
<td align="left">她(Nh) 說(VE)</td>
</tr>
<tr class="even">
<td align="left">那(Nep) 婦人(Na) 對(P) 著(Di) 我(Nh) 說(VE) </td>
<td align="left">才(Da) 說(VE)</td>
<td align="left">過(Di) 一會(Nd) 才(Da) 開口(VA)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">tagger2=<span class="kw">readRDS</span>(<span class="st">&quot;tagger2.rds&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">knitr<span class="op">::</span><span class="kw">kable</span>(tagger2, <span class="dt">caption =</span> <span class="st">&quot;genre_詞性標註&quot;</span>)</a></code></pre></div>
<table>
<caption><span id="tab:table2">Table 2: </span>genre_詞性標註</caption>
<thead>
<tr class="header">
<th align="left">chic</th>
<th align="left">historical</th>
<th align="left">romance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">他(Nh) 說(VE) </td>
<td align="left">說(VE) </td>
<td align="left">溫聲(Na) 說道(VE) </td>
</tr>
<tr class="even">
<td align="left"> 說(VE) </td>
<td align="left">道(Na)</td>
<td align="left"> 輕聲(D) 說(VE) </td>
</tr>
<tr class="odd">
<td align="left">笑(VA) 著(Di) 說(VE)</td>
<td align="left">劉寧道(Nb) </td>
<td align="left">奇怪(VK) 的(DE) 問(VE)</td>
</tr>
<tr class="even">
<td align="left">笑(VA) 說(VE) </td>
<td align="left">又(D) 說(VE)</td>
<td align="left">小聲(Nb) 說(VE) </td>
</tr>
<tr class="odd">
<td align="left">葉國強(Nb) 搖(VAC) 了(Di) 搖頭(VA) 說(VE) </td>
<td align="left">寒(VH) 凜(VH) 月(Na) 道(Na)</td>
<td align="left">低聲(D) 問道(VE) </td>
</tr>
<tr class="even">
<td align="left">小(VH) 范(Nb) 立刻(D) 脫掉(VC) 西裝(Na) 強迫(VF) 自己(Nh) 露出(VC) 笑容(Na) </td>
<td align="left">曾國藩(Nb) 說(VE) </td>
<td align="left">顏妤婷(Nb) 笑笑(VA) 說(VE)</td>
</tr>
<tr class="odd">
<td align="left">葉國強(Nb) 打斷(VC) 她(Nh) 的(DE) 話(Na)</td>
<td align="left">又(D) 道(VE)</td>
<td align="left">顏妤婷(Nb) 微紅著臉(VH) 說(VE)</td>
</tr>
<tr class="even">
<td align="left">又(D) 說(VE)</td>
<td align="left">柔聲(Na) 道(Na)</td>
<td align="left">說道(VE)</td>
</tr>
<tr class="odd">
<td align="left">問(VE) </td>
<td align="left">低聲道(Na)</td>
<td align="left">她(Nh) 說(VE) </td>
</tr>
<tr class="even">
<td align="left">洋洋(Na) 說(VE)</td>
<td align="left">叫道(VE)</td>
<td align="left">過(Di) 一會(Nd) 才(Da) 開口(VA)</td>
</tr>
</tbody>
</table>
<p>除了將這些對話列出來，我還使用了<a href="http://120.127.233.228/Segmentor/">國教院分詞</a>系統幫這些句子做了詞性標註。國教院的詞性是完全採用中研院的詞性標記系統。之所以會選用，是因為試了好多其他的詞性標註工具或套件，但不是安裝太麻煩就是成效不彰。像是Jieba其實有繁體中文的詞性標註功能，速度也很快，但標出來的結果真的是很令人失望，「笑」著說的「笑」竟然會標「Na」!而其他像是SnowNLP, Hanlp其實也都有詞性標註功能，但無奈我暫時還裝不起來這些套件ＱＱ，所以這禮拜先暫時使用國教院的分詞系統。從結果上來看，整體正確率還不錯，但還是偶有疏漏之處，像是ＸＸＸ「道」，就會被標成「Na」。我猜測有可能是因為它背後訓練的資料新近詞的收量較大，而像「道」這種古典的用法就沒有涵蓋。</p>
</div>
<div id="再來看看對話本身吧" class="section level2">
<h2>再來看看對話本身吧</h2>
利用前面所提到的文本分析器，我也抓出“「」”內的句子長度，以及這些對話佔整篇小說的比例。
<div class="figure"><span id="fig:pressure2"></span>
<img src="Top%20hit%20dialogue%20avg.png" alt="熱門點擊小說平均對話長度" width="100%" />
<p class="caption">
Figure 2: 熱門點擊小說平均對話長度
</p>
</div>
<div class="figure"><span id="fig:pressure3"></span>
<img src="different%20genre%20dialogue%20avg.png" alt="各類型小說平均對話長度" width="100%" />
<p class="caption">
Figure 3: 各類型小說平均對話長度
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">top3_dg_pro=<span class="kw">readRDS</span>(<span class="st">&quot;top3_before_dialogue_proportion.rds&quot;</span>)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">knitr<span class="op">::</span><span class="kw">kable</span>(top3_dg_pro, <span class="dt">caption =</span> <span class="st">&quot;top3 對話比例&quot;</span>)</a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-1">Table 3: </span>top3 對話比例</caption>
<thead>
<tr class="header">
<th align="left">top3</th>
<th align="right">ds.avg</th>
<th align="right">ds.pro</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Ghost Mansion</td>
<td align="right">26.600</td>
<td align="right">0.0584186</td>
</tr>
<tr class="even">
<td align="left">Mantra</td>
<td align="right">23.026</td>
<td align="right">0.1177604</td>
</tr>
<tr class="odd">
<td align="left">My heart belongs to you</td>
<td align="right">23.466</td>
<td align="right">0.1822270</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">genre_dg_pro=<span class="kw">readRDS</span>(<span class="st">&quot;genre_before_dialogue_proportion.rds&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">knitr<span class="op">::</span><span class="kw">kable</span>(genre_dg_pro, <span class="dt">caption =</span> <span class="st">&quot;genre 對話比例&quot;</span>)</a></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-2">Table 4: </span>genre 對話比例</caption>
<thead>
<tr class="header">
<th align="left">genre</th>
<th align="right">ds.avg</th>
<th align="right">ds.pro</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">chic</td>
<td align="right">25.68</td>
<td align="right">0.0700819</td>
</tr>
<tr class="even">
<td align="left">historical</td>
<td align="right">24.50</td>
<td align="right">0.1407699</td>
</tr>
<tr class="odd">
<td align="left">romance</td>
<td align="right">23.07</td>
<td align="right">0.1488719</td>
</tr>
</tbody>
</table>
<p>其實從小說對話的長度來看，好像看不出個什麼端倪，因為都差不多在20多個字左右。但若是看對話比例的話，也許可以看出一些趨勢。<em>My Heart Belongs to you心有所屬</em> (愛情小說)的對話比例是18% ，這硬生生地比 <em>Ghost Mansion鬼魅豪宅</em> (都會小說)的5%高出許多，這應該不是小說的作者風格不同所造成的。以類型來區分，Romance(愛情小說)的對話比例(14%) 也比Chic(都會小說)的7%來得高。雖然我不是非常愛看愛情小說，但直覺告訴我：這其中必有詐！我仔細檢視了一下鏡文學網站上的愛情小說，發現它們的主題都偏向青春浪漫校園取向，如果一本這麼「❤️少女粉紅泡泡❤️」的小說裡都是充滿這無聊冗長的敘述，而缺少懷抱著曖昧情愫的男女主角之間的情話綿綿，讀者才不要看呢！</p>
</div>
<div id="結論或許不是結尾" class="section level2">
<h2>結論……或許不是結尾？</h2>
<p>這週的主題還是圍繞在我喜愛的文學小說上，程式說實話使用得不多，都集中在使用ggplot的繪圖套件上，但還是比上一週有一點小進展……?就是我終於可以畫出並列的長條圖了！！（就是對話前的句子長度那張圖） <del>自我安慰模式啟動</del> 😄
之所以說應該不是結尾，是因為我對小說中的對話這件事還是有很大的興趣，所以下週希望還會繼續做下去(希望啦，如果沒有意外的話)，然後我會努力搞清楚那個分詞系統的套件到底要怎麼安裝！！
最後附上一些我覺得很有用的reference，給我自己看也分享給有需要的人參考。</p>
<div id="reference" class="section level3">
<h3>Reference</h3>
<p><a href="https://g0v.hackmd.io/fR51fyEcQYOVIGSCanO3TA">中文處理工具簡介 - HackMD</a></p>
<p><a href="http://www.rpubs.com/chiahung_tsai/lecture05012018">RPubs - Visualization</a></p>
<p><a href="http://www.learn-r-the-easy-way.tw/chapters/14">輕鬆學習 R 語言 | Learn R The Easy Way</a></p>
<p><a href="https://github.com/naernlp/Segmentor/?fbclid=IwAR0wRWqNIFPTGdj8ltXcALhF_OEqGpGW_Znjv4b7diwQteqEVMZt9tSQmUA">國教院分詞系統原始碼下載</a></p>
</div>
</div>
